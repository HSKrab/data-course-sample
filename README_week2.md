# data-course-sample
## 專案目的
1. 推薦系統中，客製化的推薦內容容易吸引用戶消費，提高平台銷售額。
2. 由真實電商Mimi Beauty的資料集(包含評論資訊以及商品後設資料)中找出有利於推薦系統的規則，並將規則應用在推薦系統上。

## 方法
1. 讀取「評論資訊(All_Beauty.csv)」與「商品後設資料(meta_All_Beauty.json.gz)」兩份原始資料
2. 將資料中欄位整理成便於處理、分析的格式
3. 將「評論資訊」拆分成「2018年9月1日以後」及「2018年8月31日以前」兩個subset，分別為「測試資料」及「訓練資料」。
4. 以用戶為INPUT，經由推薦邏輯將「訓練資料」適當組合處理，將推薦的前k項做為OUTPUT。
5. 以推薦結果為INPUT，與「測試資料」比對後，將比對結果做為OUTPUT。

## 思考架構
- 提供的sample程式碼中，將原始資料數據拆分成2018-09以前和以後。又將k的值預設為10。
- 我認為這方法的確替我們簡化了問題，但有可能因此而設計出「只適用在推薦2018年9月當月」的邏輯。
- 因此我希望能找出適用在不同時間點、且不同k值的通解。

## 邏輯設計
1. 分析每個月新進用戶的評論數後發現，新用戶的比例非常高(Fig. 4)。
2. 因此與其將時間花在研究「如何參考用戶過去購買習慣來推薦」，不如研究命中率較高的「即時趨勢」。
3. 然而即使將目標限縮在「即時趨勢」（時下的人氣商品），仍有許多參數要研究。
4. 這裡能想到的參數為推薦數k、訓練資料的時間段（過去n天）、當月總評論數、以及當月新用戶評論數。
5. 探討不同參數之間的關係，找出能夠優化訓練模型的最佳解。

## 分析
- Fig 1. 2018年09月為測試資料之評估分數。</br>
過去不同天數為訓練資料時，推薦數k對上評估分數的變化。</br>
觀察k<30範圍內的變化：以10天及20天為訓練資料時，評估分數最好；k=10時，各個天數之評估分數分布在0.13至0.16之間，其中以過去30天為最佳，評估分數為0.158。

- Fig 2. 2017年08月為測試資料之評估分數</br>
過去不同天數為訓練資料時，推薦數k對上評估分數的變化。</br>
觀察k<30範圍內的變化：不同天數為訓練資料時，評估分數變化差異不大；k=10時，各個天數之評估分數分布在1.33至1.77之間，其中以過去50、60、70天為最佳，評估分數為1.775。

- Fig 3. 2013年04月為測試資料之評估分數</br>
過去不同天數為訓練資料時，推薦數k對上評估分數的變化。</br>
觀察k<30範圍內的變化：以10、20、30天為訓練資料時，評估分數最差，其餘則差異不大；k=10時，各個天數之評估分數分布在0.95至0.97之間，其中以過去20天為最佳，評估分數為0.990。

- Fig 4. 推薦數k為10時不同天數對時間的變化</br>
由於2012年以前評論數相對較少，本圖僅處理較有參考價值的2012-2018的數據。</br>
由Fig 1-3 來看，不同天數在不同時間點有不同的結果，然而長遠看來，無論是訓練資料是過去10天還是100天，所有天數的變化趨勢非常接近，因此很難斷定哪個天數能夠適用在所有時間點。
為了探討什麼參數會造成分數的變化，目前想到可能的變因是當月所有評論數，以及當月新用戶所佔的評論數。
圖中將上述兩數據以粗線顯示。然而看似沒有一定的規律。唯一可以確定每月新用戶的評論數佔比非常高。

## 結論
找到通解並不容易，尚有沒考慮到的影響因素。例如：
- 該月新進人氣商品偏多，該月初的推薦很可能失準，而分數偏低。
- 該人氣商品歷久不衰，則往後數月的推薦可能有效，分數則可能偏高。
因此客觀來說，無法評價此邏輯的推薦的成敗，除非有「0.5以上為成功、0.3以下為失敗」之類的定義。

## 使用工具
1. 版本管理：Github
2. 開發環境：Colab
3. 程式語言：Python
4. 相關package：matplotlib、datetime、dateutil
