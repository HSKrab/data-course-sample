# data-course-sample
## 目的
透過分析商品相關內容的方式來找到最佳推薦 top-k 的邏輯。

## 方法
1. 清洗資料：
- 去除完全重複的 row。
- 希望留下真正對分析有利的 column，僅留下'description', 'title', 'also_buy', 'brand', 'rank', 'also_view', 'details', 'price', 'asin'。

2. 建立便於分析的格式：
- 將 rank 之後的文字內容獨立出來成為 ranktype。
- 合併title, brand, ranktype 等 column 成 transtr 。

3. 參考上週助教建議及同學作業做 EDA：
- 發現不同商品卻有同 title 的情況。
- 售價分佈。（大多分布在 50 美元以下）
- 統計每個月的評價數中，總評價數和新用戶的評價數。
- 2016, 17 年訂單數到達高峰後逐月下降。
- 每月訂單中，新進用戶的訂單數量佔比極高。
- 統計重複買家購入相同物品/重複買家 的 評價筆數 (共 19,218/83,561 筆)。
- 評論分數分佈統計。（半數以上為 5 分滿分）

4. 原始資料切分後進行推薦及評估：
- 商品相似程度嘗試以 cosine_similarity, manhattan_distances, euclidean_distances 三種求得。推斷 cosine_similarity 表現稍好。
- 修改原始推薦函式，加入複數商品相關推薦後總排序的演算法 sum_of_rank()。
- 發現單項商品推薦第一順位大多為自己，但仍有例外的情況，探討原因。
- 僅以過去購買商品相關推薦，猜中筆數極低。

5. 加入 Rule-based 後重新評估：
- 將測試集資料的客戶拆翻成新、舊兩筆客戶資料。
- 新客戶推薦「過去一個月人氣商品」及「過去一個月人氣商品的相關商品」。
- 舊客戶推薦「過去購買商品的相關商品」及「過去一個月人氣商品」。
- 探討新、舊客戶的兩推薦法中推薦數量與評估分數的變化。
- P.S. 根據上週的分析，發現過去一個月左右為測試集的評估分數表現出色，因此決定以過去一個月的銷售來決定人氣商品。

## 結論
推薦數為 10 的時候，評估分數最高為 0.153。然而分析不同參數對這個分數的影響後發現最主要貢獻分數的變因為人氣商品推薦數。
k_old / k_new 分別為推薦舊/新客戶的產品中，人氣產品所佔的個數。以這張圖來說，在同樣推薦 0 - 30 個的情況下，人氣產品的推薦數越多，評估分數越高，似乎並沒有發揮到以 title 內容分析產品相關性後所能帶來的推薦效果。

## 使用工具
相關 Package, Python, Colab, Github
